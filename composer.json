{
    "$schema": "https://getcomposer.org/schema.json",
    "require": {
        "php": "8.3.*",
        "michelf/php-markdown": "^2.0"
    },
    "autoload": {
        "psr-4": {
            "TiMacDonald\\Website\\": "src/"
        }
    },
    "scripts": {
        "deploy": [
            "@build",
            "@flush"
        ],
        "build": [
            "npm run build"
        ],
        "flush": [
            "gfind -maxdepth 2 -type d -path './public/*' -not -path './public/assets' > files.txt",
            "gfind -maxdepth 2 -type f -path './public/*.html' >> files.txt",
            "gfind -maxdepth 2 -type f -path './cache/*.php' >> files.txt",
            "cat files.txt",
            "cat files.txt | xargs rm -rf",
            "rm files.txt"
        ]
    },
    "config": {
        "optimize-autoloader": true,
        "preferred-install": "dist",
        "sort-packages": true
    },
    "minimum-stability": "stable",
    "prefer-stable": true
}
